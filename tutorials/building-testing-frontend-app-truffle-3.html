<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <!-- Favicon -->
    <link rel="icon" href="/img/favicons/favicon.ico">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Truffle Suite">
    <link rel="icon" sizes="192x192" href="/img/favicons/chrome-touch-icon-192x192.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Truffle Suite">
    <link rel="apple-touch-icon" href="/img/favicons/apple-touch-icon.png">

    <!-- Tile icon for Win8/10 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="img/favicons/ms-touch-icon-144x144-precomposed.png">
    <meta name="msapplication-TileColor" content="#3372DF">

    <!-- Facebook OpenGraph -->
    <meta property="og:site_name" content="Truffle Suite" />
    <meta property="og:description" content="The Truffle suite of tools make dapp development easier and more consistent." />
    <meta property="og:title" content="Truffle Suite | Tutorials | Building &amp; Testing a Frontend App with Truffle 3.0" />
    <meta property="og:url" content="https://trufflesuite.com/tutorials/building-testing-frontend-app-truffle" />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="https://truffleframework.com/img/favicons/truffle-share.png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="Truffle Suite" />
    <meta name="twitter:title" content="Truffle Suite | Tutorials | Building &amp; Testing a Frontend App with Truffle 3.0" />
    <meta name="twitter:description" content="The Truffle suite of tools make dapp development easier and more consistent." />
    <meta name="twitter:creator" content="Truffle Suite" />
    <meta name="twitter:domain" content="trufflesuite.com" />
    <meta name="twitter:image:src" content="https://truffleframework.com/img/favicons/truffle-share.png" />
    
    <meta name="google-site-verification" content="BSgPkMHzw7IxJTpEElNfD8ZZYPzXgOQiTVPzAxAG8-o" />
      
    <title>Truffle Suite | Tutorials | Building &amp; Testing a Frontend App with Truffle 3.0</title>

    <link href="https://fonts.googleapis.com/css?family=Grand+Hotel|Open+Sans|Oswald|Varela+Round|Roboto+Condensed|Roboto+Mono" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.9/css/all.css" integrity="sha384-5SOiIsAziJl6AWe0HWRKTXlfcSHKmYV4RBF18PPJ173Kzn7jzMyFuTtk8JA7QQG1" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/index.css">
  </head>
  <body>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top" id="primaryNav">
      <a class="navbar-brand current" href="/">
        <img class="suite-logo" src="/img/truffle-logomark.svg" alt="Truffle Logo" />TRUFFLE SUITE
      </a>
    
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="suiteDropdown" href="#" data-toggle="dropdown">SUITE</a>
    
            <div class="dropdown-menu">
              <a class="text-truffle" href="/truffle">
                <img class="suite-logo" src="/img/truffle-logomark.svg" alt="Truffle Logo" /><span class="narrow">T</span>RUFFLE
              </a>
              <a class="text-ganache" href="/ganache">
                <img class="suite-logo" src="/img/ganache-logomark.svg" alt="Ganache Logo" />Ganache
              </a>
              <a class="text-drizzle" href="/drizzle">
                <img class="suite-logo" src="/img/drizzle-logomark.svg" alt="Drizzle Logo" />dri<span class="drizzle-z-skew-1">z</span><span class="drizzle-z-skew-2">z</span>le
              </a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/docs">DOCS</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/tutorials">TUTORIALS</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/boxes">BOXES</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/blog">BLOG</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/community">COMMUNITY</a>
          </li>
        </ul>
      </div>
    </nav>
    <main class="container container-heading container-narrow">
      <div class="row">
        <div class="col">
          <h1>Building &amp; Testing a Frontend App with Truffle 3.0</h1>
          <ul class="list-sm-stacker space-icon mb-0">
            <li><i class="far fa-calendar-alt"></i> 2017-02-14&nbsp;&nbsp;&nbsp;</li>
            <li><i class="far fa-user"></i> Doug von Kohorn</li>
          </ul>
        </div>
      </div>
    </main>

    <main class="banner banner-light-cream pt-5 pb-5" role="main">
      <div class="container container-post">
        <div class="row justify-content-center">
          <div class="col">
            <p class="alert alert-info">
<strong>Update</strong>: While this tutorial was originally written for Truffle 3, we have updated it to be fully compatible with newer versions of Truffle. We have kept some of the language unaltered, except where necessary. 
</p>

<p>Truffle 3 is out and switched to less opinionated build process that allows any build pipeline to be plugged in. We&#39;re going to take advantage of that feature today, and build a frontend app with a custom pipeline.</p>

    <h2 class="link-markdown">
      <a href="#intended-audience" name="intended-audience"><i class="fas fa-link"></i></a>
      Intended audience
    </h2>
  <p>This is written for those familiar with Truffle and Ethereum, who want a sense of how to structure a frontend application for easy development and testing. This example uses <a href="https://webpack.js.org/">webpack</a>, but familiarity with other build tools is enough background.</p>

    <h2 class="link-markdown">
      <a href="#what-does-a-build-process-need-to-do-in-truffle-" name="what-does-a-build-process-need-to-do-in-truffle-"><i class="fas fa-link"></i></a>
      What does a build process need to do in Truffle?
    </h2>
  <p>In general, simple: Turn all higher level code (like ES6, SASS, JSX, templates, etc.) into vanilla JavaScript/HTML/CSS artifacts, and then move those artifacts into the <code>build/</code> folder alongside our contract artifacts.</p>

    <h2 class="link-markdown">
      <a href="#what-this-tutorial-does" name="what-this-tutorial-does"><i class="fas fa-link"></i></a>
      What this tutorial does
    </h2>
  <p>Uses <a href="https://webpack.js.org/">webpack</a> to compile the application&#39;s frontend code and move the artifacts into the <code>build/</code> folder.</p>

    <h2 class="link-markdown">
      <a href="#getting-started" name="getting-started"><i class="fas fa-link"></i></a>
      Getting started
    </h2>
  <p>Once you have Truffle installed, run <code>truffle unbox webpack</code> in an <strong>empty</strong> directory to pull down the <a href="/boxes/webpack">Truffle Box</a> for this tutorial. If you&#39;re familiar with the <a href="/boxes/metacoin">MetaCoin Truffle Box</a>), you&#39;ll notice your old friends <code>Metacoin.sol</code> and <code>ConvertLib.sol</code> are there. But now, running <code>truffle build</code> does this:</p>
<pre><code class="lang-shell">Error building:

No build configuration specified. Can&#39;t build.

Build failed. See above.
</code></pre>
<p>That&#39;s ok! Truffle is getting out of your way and letting you control the build process. Our new process is specified in <code>webpack.config.js</code>. More on this later.</p>

    <h2 class="link-markdown">
      <a href="#compile-migrate-and-" name="compile-migrate-and-"><i class="fas fa-link"></i></a>
      Compile, migrate, and ...
    </h2>
  <p>In order to interact with contracts, we need them deployed on a network! The default network is configured in <code>truffle.js</code>:</p>
<pre><code class="lang-javascript">networks: {
  development: {
    host: &#39;127.0.0.1&#39;,
    port: 7545,
    network_id: &#39;*&#39; // Match any network id
  }
}
</code></pre>
<p>This is the default setting for <a href="/docs/ganache/using">Ganache</a>, though you can change this to use any connection you&#39;d like.</p>
<p class="alert alert-info">
<strong>Note</strong>: Read more about <a href="/docs/ganache/using">setting up Ganache</a>. You can also use <a href="/docs/getting_started/console">Truffle Develop</a>, which launches a personal blockchain for testing and is built directly into Truffle, no separate installation required.
</p>

<p>Let&#39;s get the contracts on the network:</p>
<p>First run <code>truffle compile</code>. This will compile the <code>.sol</code> contracts into <code>.json</code> artifacts (specified in the <a href="https://github.com/trufflesuite/truffle/tree/master/packages/truffle-contract"><code>truffle-contract</code></a> library). They will appear in <code>build/contracts/*.json</code>. Now we can include contracts in our app with a simple <code>import</code> or <code>require</code> statement:</p>
<pre><code class="lang-javascript">// Import our contract artifacts and turn them into usable abstractions.
import metacoin_artifacts from &#39;../../build/contracts/MetaCoin.json&#39;
</code></pre>
<p>Next, make sure you have a blockchain running, and then run <code>truffle migrate</code>. This will deploy the contracts onto the default network running at <code>127.0.0.1:7545</code>.</p>

    <h3 class="link-markdown">
      <a href="#-webpack-build" name="-webpack-build"><i class="fas fa-link"></i></a>
      ... (webpack) build
    </h3>
  <p>All that&#39;s left is to use webpack to compile the app and place it in the <code>build/</code> folder. A simple <code>npm run dev</code> and we&#39;re done! This will build the app and serve it on <code>http://127.0.0.1:8080</code>. Relevant configs here:</p>
<pre><code class="lang-javascript">// file: package.json
...
  &quot;scripts&quot;: {
    &quot;lint&quot;: &quot;eslint ./&quot;,
    &quot;build&quot;: &quot;webpack&quot;,
    &quot;dev&quot;: &quot;webpack-dev-server&quot;
  },
...
</code></pre>
<pre><code class="lang-javascript">// file: webpack.config.js
...
entry: &#39;./app/javascripts/app.js&#39;,
output: {
  path: path.resolve(__dirname, &#39;build&#39;),
  filename: &#39;app.js&#39;
},
plugins: [
  // Copy our app&#39;s index.html to the build folder.
  new CopyWebpackPlugin([
    { from: &#39;./app/index.html&#39;, to: &#39;index.html&#39; }
  ])
],
...
</code></pre>
<p>You can find more information on webpack concepts on <a href="https://webpack.js.org/concepts/">webpack&#39;s website</a>. Notice we didn&#39;t <em>have</em> to use webpack here, but Truffle comes with a handy webpack demo that gets us started quickly. We <em>could</em> replace the webpack config with a <code>Gruntfile</code>, for instance, and use Grunt instead. Truffle don&#39;t care no mo&#39;.</p>

    <h2 class="link-markdown">
      <a href="#the-app" name="the-app"><i class="fas fa-link"></i></a>
      The app
    </h2>
  <p>As previously mentioned, the command <code>npm run dev</code> builds the app and serves it with a local web server. (This is equivalent to running <code>npm run build</code> and then <code>truffle serve</code>, but we&#39;ve done it in one step for convenience.) To see it, navigate to <a href="http://127.0.0.1:8080">http://127.0.0.1:8080</a>. You should see:</p>
<p>
    <img class="img-fluid" src="/img/tutorials/MetaCoin_running.png" title="" alt="" />
    
  </p>
<p>That&#39;s it, all done! Happy Truffling!</p>

    <h2 class="link-markdown">
      <a href="#extra-webpack-docker-travis-ci" name="extra-webpack-docker-travis-ci"><i class="fas fa-link"></i></a>
      Extra: Webpack + Docker + Travis CI
    </h2>
  <p>If you want to see how to deploy a frontend app using Docker and Travis build pipeline, check out <a href="https://github.com/dougvk/truffle3-frontend-example">my frontend example</a> for added goodness.</p>


            <div class="contribute-link">
              See a way to make this page better? <a href="https://github.com/trufflesuite/trufflesuite.com/edit/master/src/tutorials">Edit here &raquo;</a>
            </div>          </div>
        </div>
      </div>
    </main>

    <footer>
      <div class="container">
        <div class="row">
          <div class="col-12 col-md-2 mb-4 mb-md-0">
            <img class="truffle-logo" src="/img/truffle-logo-light.svg" alt="Truffle Logo" />
          </div>
    
          <div class="col-12 col-md-5 mb-3 mb-md-0">
            <ul>
              <!--<li><a href="/careers">CAREERS</a></li>-->
              <li><a href="mailto:inquiry@trufflesuite.com">CONTACT US</a></li>
              <li><a href="/policy">PRIVACY POLICY</a></li>
              <li><a href="/dashboard">DASHBOARD</a></li>
              <li><a href="https://github.com/trufflesuite">GITHUB</a></li>
              <li><a href="https://twitter.com/trufflesuite">TWITTER</a></li>
              <li><a class="trufflecon-link" href="/trufflecon2018">TRUFFLEC<img src="/img/truffle-logomark.svg" alt="Truffle Logo" /><span>O</span>N 2018</a></li>
              <li class="text-truffle">
                <a href="https://new.consensys.net/">
                  <img class="consensys-logomark" src="/img/consensys-logomark.svg" alt="ConsenSys Logo" />
                  &copy; CONSENSYS 2018
                </a>
              </li>
            </ul>
          </div>
    
          <div class="col-12 col-md-5">
            <h4>SIGN UP FOR THE TRUFFLE MAILING LIST</h4>
            <form>
              <div class="form-group">
                <input type="email" class="form-control" id="footerMailingEmail" placeholder="Email Address">
              </div>
              <div class="form-group">
                <input type="text" class="form-control" id="footerMailingFirstName" placeholder="First Name">
                <small id="firstNameHelp" class="form-text text-muted">So we know how to address you.</small>
              </div>
              <button type="submit" class="btn btn-truffle">SUBSCRIBE</button>
            </form>
          </div>
        </div>
      </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="/js/vendor/jquery-3.2.1.slim.min.js"><\/script>')</script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/vendor/prism.js"></script>
    <script src="/js/markdown-cleanup.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-83874933-3', 'auto');
      ga('send', 'pageview');
    </script>  </body>
</html>